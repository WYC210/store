<template>
  <div class="home-container" :class="{ 'light-theme': !isDarkTheme }">
    <header class="navbar" :class="{ 'navbar-fixed': isNavFixed }">
      <router-link to="/home" class="logo-container">
        <img src="@/assets/logo_w.png" alt="Logo" class="logo" />
        <CyberText />
      </router-link>
      <div class="search-container">
        <el-input
          v-model="searchKeyword"
          placeholder="输入关键词进行搜索..."
          class="search-input"
          :prefix-icon="Search"
          @focus="handleSearchFocus"
          @blur="handleSearchBlur"
        >
          <template #append>
            <el-button 
              @click="handleSearch" 
              class="search-button"
            >
              <span class="button-text">搜索</span>
            </el-button>
          </template>
        </el-input>
      </div>
      <nav class="nav-links">
        <div class="theme-toggle-wrapper">
          <button 
            class="theme-toggle" 
            :class="{ 'dark': isDarkTheme }"
            @click="toggleTheme"
          >
            <!-- 白天模式图标 -->
            <svg v-if="!isDarkTheme" class="sun-icon" viewBox="0 0 24 24">
              <circle cx="12" cy="12" r="5" class="sun-core"/>
              <g class="sun-rays">
                <line x1="12" y1="3" x2="12" y2="5"/>
                <line x1="12" y1="19" x2="12" y2="21"/>
                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
                <line x1="3" y1="12" x2="5" y2="12"/>
                <line x1="19" y1="12" x2="21" y2="12"/>
                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
              </g>
            </svg>
            <!-- 黑夜模式图标 -->
            <svg v-else class="cyber-moon" viewBox="0 0 24 24">
              <path class="moon-body" d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"/>
              <g class="cyber-effects">
                <path class="circuit-line" d="M17 4 L20 7"/>
                <path class="circuit-line" d="M15 2 L18 5"/>
                <path class="circuit-line" d="M19 9 L22 12"/>
                <circle class="glow-point" cx="20" cy="7" r="1"/>
                <circle class="glow-point" cx="18" cy="5" r="0.5"/>
                <circle class="glow-point" cx="22" cy="12" r="0.8"/>
              </g>
            </svg>
          </button>
        </div>
        <el-button class="nav-home" @click="goToHome">首页</el-button>
        <el-button class="nav-cart" @click="goToCart">购物车</el-button>
        <el-button class="nav-profile" @click="goToProfile">个人中心</el-button>
      </nav>
    </header>
    <div class="navbar-placeholder" v-show="isNavFixed"></div>

    <section class="main-content">
      <div class="section-divider" :class="{ 'light': !isDarkTheme }"></div>
      <el-row :gutter="20">
        <el-col :xs="24" :sm="24" :md="8" :lg="6">
          <section class="categories" :style="{ height: contentHeight }">
            <!-- 移动端分类展示 -->
            <div class="mobile-categories" v-if="isMobileView">
              <h2>商品分类</h2>
              <el-collapse v-model="activeCollapse">
                <el-collapse-item 
                  v-for="category in categories" 
                  :key="category.categoryId"
                  :title="category.name"
                  :name="category.categoryId"
                >
                  <div class="mobile-sub-categories">
                    <span
                      v-for="subCategory in category.children"
                      :key="subCategory.categoryId"
                      class="mobile-sub-category"
                      @click="handleSubCategoryClick(subCategory)"
                    >
                      {{ subCategory.name }}
                    </span>
                  </div>
                </el-collapse-item>
              </el-collapse>
            </div>
            <!-- 桌面端分类展示 -->
            <template v-else>
              <h2>商品分类</h2>
              <el-menu 
                class="category-menu" 
                :default-active="activeIndex"
                :style="{ height: 'calc(100% - 60px)' }"
              >
                <el-menu-item 
                  v-for="category in categories" 
                  :key="category.categoryId"
                  :index="String(category.categoryId)"
                  @mouseenter="handleMouseEnter(category)"
                  @mouseleave="handleMenuItemLeave"
                  @click="handleCategoryClick(category)"
                >
                  {{ category.name }}
                </el-menu-item>
              </el-menu>
              
              <!-- 二级菜单 -->
              <div 
                class="sub-menu" 
                v-show="activeCategory && activeCategory.children?.length"
                @mouseenter="clearHideTimer"
                @mouseleave="handleSubmenuLeave"
              >
                <h3>{{ activeCategory?.name }}</h3>
                <div class="sub-categories">
                  <span 
                    v-for="subCategory in activeCategory?.children" 
                    :key="subCategory.categoryId"
                    class="sub-category"
                    @click="handleSubCategoryClick(subCategory)"
                  >
                    {{ subCategory.name }}
                  </span>
                </div>
              </div>
            </template>
          </section>
        </el-col>
        <el-col :xs="24" :sm="24" :md="16" :lg="18">
          <div class="carousel-container">
            <el-carousel 
              :interval="4000"
              type="card"
              :height="contentHeight"
              class="carousel"
              indicator-position="outside"
              arrow="always"
            >
              <el-carousel-item v-for="(item, index) in carouselItems" :key="index">
                <el-image
                  :src="item.image"
                  :alt="item.title"
                  fit="cover"
                  class="carousel-image"
                  loading="lazy"
                >
                  <template #error>
                    <div class="image-slot">
                      <el-icon><Picture /></el-icon>
                    </div>
                  </template>
                </el-image>
              </el-carousel-item>
            </el-carousel>
          </div>
        </el-col>
      </el-row>
    </section>

    <section class="products">
      <div class="title-divider" :class="{ 'light': !isDarkTheme }">
        <span class="divider-text">热销商品</span>
      </div>
      
      <el-row v-loading="loading" :gutter="20">
        <el-col 
          v-for="product in products" 
          :key="product.id" 
          :xs="12" 
          :sm="12" 
          :md="8" 
          :lg="6"
        >
          <el-card class="product-card" :body-style="{ padding: '0px' }">
            <div class="product-image">
              <el-image 
                :src="product.image" 
                :alt="product.name"
                fit="cover"
                lazy
              >
                <template #placeholder>
                  <div class="image-placeholder">
                    <el-icon><Picture /></el-icon>
                  </div>
                </template>
              </el-image>
            </div>
            <div class="product-info">
              <h3>{{ product.name }}</h3>
              <p class="price">¥{{ product.price.toFixed(2) }}</p>
              <p class="description">{{ product.description }}</p>
              <el-button 
                type="primary" 
                @click="handleAddToCart(product)"
                :loading="loading"
              >
                加入购物车
              </el-button>
            </div>
          </el-card>
        </el-col>
      </el-row>
    </section>
  </div>
</template>

<script setup>
import { ref, onMounted, onUnmounted, watchEffect, nextTick, computed } from 'vue'
import { useRouter } from 'vue-router'
import { Search, Picture } from '@element-plus/icons-vue'
import ImageLoader from '@/components/ImageLoader.vue'
import CyberText from '@/components/CyberText.vue'
import ThemeToggle from '@/components/ThemeToggle.vue'
import { useUserStore } from '@/stores/user'
import { ElMessage } from 'element-plus'
import { getProducts, addToCart, getCategories } from '@/api/product'
import csImage from '../../assets/cs.png'  // 正确的相对路径

// 基础状态
const router = useRouter()
const userStore = useUserStore()
const searchKeyword = ref('')
const isDarkTheme = ref(localStorage.getItem('isDarkTheme') === 'true')
const isNavFixed = ref(false)
const isSearchFocused = ref(false)

const timers = {
  scroll: null,
  search: null
}

// 防抖函数
const debounce = (fn, delay, timerKey) => {
  return (...args) => {
    if (timers[timerKey]) clearTimeout(timers[timerKey])
    timers[timerKey] = setTimeout(() => fn(...args), delay)
  }
}

// 滚动处理
const handleScroll = debounce(() => {
  isNavFixed.value = window.scrollY > 0
}, 16, 'scroll')

// 搜索处理
const handleSearch = debounce(() => {
  productParams.value = {
    ...productParams.value,
    keyword: searchKeyword.value,
    page: 1 // 搜索时重置页码
  }
  fetchProducts()
}, 300, 'search')

// 主题切换
const toggleTheme = () => {
  isDarkTheme.value = !isDarkTheme.value
  localStorage.setItem('isDarkTheme', isDarkTheme.value)
  document.body.classList.toggle('dark-theme', isDarkTheme.value)
}

// 导航
const goToHome = () => router.push('/home')
const goToProducts = () => router.push('/products')
const goToCart = () => router.push('/cart')
const goToProfile = () => {
  if (!userStore.isLoggedIn) {
    ElMessage.warning('请先登录')
    router.push({
      path: '/login',
      query: { redirect: '/profile' }  // 登录后跳回个人中心
    })
    return
  }
  router.push('/profile')
}

// 商品数据
const products = ref([])
const productParams = ref({
  page: 1,
  size: 10
})
const total = ref(0)
const loading = ref(false)

// 统一管理高度的计算属性
const contentHeight = computed(() => {
  return window.innerWidth <= 768 ? '300px' : '400px'  // 调整移动端高度
})

// 轮播图数据
const carouselItems = ref([
  {
    image: csImage,
    title: 'Cyberpunk Street 1'
  },
  {
    image: csImage,
    title: 'Cyberpunk Street 2'
  },
  {
    image: csImage,
    title: 'Cyberpunk Street 3'
  },
  {
    image: csImage,
    title: 'Cyberpunk Street 4'
  }
])

// 分类数据
const categories = ref([])
const activeCategory = ref(null)
const activeIndex = ref('0')

// 定时器
let hideTimer = null

// 获取商品列表
const fetchProducts = async () => {
  try {
    loading.value = true
    const response = await getProducts(productParams.value)
    if (response.state === 200) {
      products.value = response.data.list
      total.value = response.data.total
    }
  } catch (error) {
    console.error('获取商品列表失败:', error)
  } finally {
    loading.value = false
  }
}

// 获取分类列表
const fetchCategories = async () => {
  try {
    const response = await getCategories()
    if (response.state === 200) {
      categories.value = response.data
      console.log('Categories:', categories.value) // 调试用
    }
  } catch (error) {
    console.error('获取分类列表失败:', error)
  }
}

// 分类相关处理
const handleMouseEnter = (category) => {
  clearHideTimer()
  activeCategory.value = category
}

// 菜单项离开处理
const handleMenuItemLeave = () => {
  hideTimer = setTimeout(() => {
    nextTick(() => {
      const submenu = document.querySelector('.sub-menu')
      if (!submenu?.matches(':hover')) {
        activeCategory.value = null
      }
    })
  }, 100)
}

const clearHideTimer = () => {
  if (hideTimer) {
    clearTimeout(hideTimer)
    hideTimer = null
  }
}

const handleSubmenuLeave = () => {
  clearHideTimer()
  activeCategory.value = null
}

// 数组随机排序函数
const shuffleArray = (array) => {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]]
  }
  return array
}

// 购物车操作
const handleAddToCart = async (product) => {
  try {
    if (!userStore.isLoggedIn) {
      ElMessage.warning('请先登录')
      router.push('/login')
      return
    }

    await addToCart(product.id)
    ElMessage.success('已添加到购物车')
  } catch (error) {
    console.error('添加到购物车失败:', error)
    ElMessage.error('添加失败，请重试')
  }
}

// 生命周期钩子
onMounted(async () => {
  await fetchProducts()
  await fetchCategories()
})

onUnmounted(() => {
  // 清理所有定时器
  Object.values(timers).forEach(timer => {
    if (timer) clearTimeout(timer)
  })
  if (hideTimer) {
    clearTimeout(hideTimer)
  }
  
  // 移除事件监听
  window.removeEventListener('scroll', handleScroll)
})

// 主题监听
watchEffect(() => {
  document.body.classList.toggle('dark-theme', isDarkTheme.value)
})

// 分类点击处理
const handleCategoryClick = (category) => {
  productParams.value = {
    ...productParams.value,
    categoryId: category.categoryId,
    page: 1
  }
  fetchProducts()
}

// 子分类点击处理
const handleSubCategoryClick = (subCategory) => {
  productParams.value = {
    ...productParams.value,
    categoryId: subCategory.categoryId,
    page: 1
  }
  fetchProducts()
}

const activeCollapse = ref([])  // 移动端折叠面板的激活项
const isMobileView = computed(() => window.innerWidth <= 768)
</script>

<style scoped>
.home-container {
  padding: 20px;
  background: #060524;
  min-height: 100vh;
  color: #fff;
  will-change: auto;
  contain: content;
}

.navbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 20px;
  background: rgba(6, 5, 36, 0.95);
  backdrop-filter: blur(8px);
  border-bottom: 1px solid rgba(250, 159, 252, 0.3);
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
  transition: all 0.3s ease;
  width: 100%;
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
}

.navbar-fixed {
  transform: translateY(0);
}

.navbar-placeholder {
  height: auto;
}

@keyframes slideDown {
  from {
    transform: translateY(-100%);
  }
  to {
    transform: translateY(0);
  }
}

.logo-container {
  display: flex;
  align-items: center;
  text-decoration: none;
}

.logo {
  height: 40px;
  margin-right: 10px;
}

.search-container {
  flex: 1;
  max-width: 500px;
  margin: 0 20px;
  position: relative;
  padding: 5px;
}

.search-input {
  width: 100%;
  transition: transform 0.3s ease;
  transform: translateZ(0);
}

.nav-links {
  display: flex;
  gap: 15px;
}

.main-content {
  margin: 0;
  padding-top: 20px;  /* 减小顶部内边距 */
}

.carousel-container {
  width: 100%;
  margin: 40px auto;
  padding: 0 20px;
}

.carousel {
  width: 100%;
  position: relative;
  overflow: hidden;
  border: 2px solid rgba(36, 208, 254, 0.5);
  box-shadow: 
    0 0 20px rgba(36, 208, 254, 0.3),
    0 0 40px rgba(36, 208, 254, 0.2),
    inset 0 0 15px rgba(36, 208, 254, 0.2);
  background: rgba(6, 5, 36, 0.3);
  backdrop-filter: blur(10px);
  border-radius: 12px;
  padding: 2px;
  perspective: 1000px;  /* 添加3D视角 */
}

.carousel :deep(.el-carousel__item) {
  border-radius: 8px;
  overflow: hidden;
  position: relative;
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  transform-origin: center center;
}

.carousel :deep(.el-carousel__item--card) {
  width: 60%;
  box-shadow: 
    0 0 30px rgba(250, 159, 252, 0.2),
    0 0 60px rgba(36, 208, 254, 0.15);
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border: 1px solid rgba(36, 208, 254, 0.3);
    border-radius: 8px;
    pointer-events: none;
    z-index: 1;
  }
}

.carousel-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 8px;
  transition: all 0.3s ease;
  filter: brightness(1.1) contrast(1.1);
  transform-style: preserve-3d;  /* 保持3D效果 */
  &:hover {
    filter: brightness(1.2) contrast(1.2);
    transform: scale(1.02);
  }
}

/* 投影效果保持不变 */
.carousel::before {
  content: '';
  position: absolute;
  top: -20px;
  left: 50%;
  transform: translateX(-50%);
  width: 40px;
  height: 10px;
  background: rgba(36, 208, 254, 0.3);
  border-radius: 0 0 20px 20px;
  box-shadow: 
    0 0 20px rgba(36, 208, 254, 0.5),
    0 0 40px rgba(36, 208, 254, 0.3);
  z-index: 2;
}

.image-slot {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.1);
  color: #909399;
}

/* 优化指示器样式 */
.carousel :deep(.el-carousel__indicators) {
  transform: translateY(20px);
}

.carousel :deep(.el-carousel__indicator) {
  padding: 12px 4px;
}

.carousel :deep(.el-carousel__button) {
  width: 30px;
  height: 3px;
  background-color: rgba(36, 208, 254, 0.7);
  border-radius: 3px;
}

.categories {
  background: rgba(6, 5, 36, 0.8);
  backdrop-filter: blur(10px);
  border: 2px solid rgba(250, 159, 252, 0.5);
  box-shadow: 
    0 0 20px rgba(250, 159, 252, 0.3),
    0 0 40px rgba(250, 159, 252, 0.2),
    inset 0 0 15px rgba(250, 159, 252, 0.2);
  border-radius: 4px;
  padding: 20px;
  position: relative;
  z-index: 20;
  margin-top: 40px;
}

/* 分类标题样式优化 */
.categories h2 {
  color: #FA9FFC;  /* 霓虹粉色文字 */
  text-shadow: 
    0 0 10px rgba(250, 159, 252, 0.5),
    0 0 20px rgba(250, 159, 252, 0.3);
  margin-bottom: 20px;
  padding-top: 10px;
  font-size: 1.5em;
  border-bottom: 1px solid rgba(250, 159, 252, 0.3);
  padding-bottom: 10px;
}

.category-menu {
  height: calc(100% - 60px); /* 减去标题和padding的高度 */
  overflow-y: auto;
  scrollbar-width: thin;
  background: transparent;
  border: none;
  
  /* 自定义滚动条样式 */
  &::-webkit-scrollbar {
    width: 6px;
  }
  
  &::-webkit-scrollbar-track {
    background: rgba(250, 159, 252, 0.1);
  }
  
  &::-webkit-scrollbar-thumb {
    background: rgba(250, 159, 252, 0.3);
    border-radius: 3px;
  }
}

/* Element Plus 菜单样式覆盖 */
.category-menu :deep(.el-menu) {
  background: transparent;
  border: none;
}

.category-menu :deep(.el-menu-item) {
  color: #fff;
  transition: all 0.3s ease;
  border-left: 2px solid transparent;
  background: transparent;
  
  &:hover {
    background: rgba(250, 159, 252, 0.1);
    border-left: 2px solid #FA9FFC;
    box-shadow: 
      inset 0 0 15px rgba(250, 159, 252, 0.1),
      0 0 10px rgba(250, 159, 252, 0.2);
  }
}

/* 激活状态的菜单项 */
.category-menu :deep(.el-menu-item.is-active) {
  background: rgba(250, 159, 252, 0.15);
  color: #FA9FFC;
  border-left: 2px solid #FA9FFC;
  box-shadow: 
    inset 0 0 15px rgba(250, 159, 252, 0.1),
    0 0 10px rgba(250, 159, 252, 0.2);
}

.sub-menu {
  background: rgba(6, 5, 36, 0.95);
  backdrop-filter: blur(10px);
  border: 2px solid rgba(250, 159, 252, 0.3);
  box-shadow: 
    0 5px 15px rgba(250, 159, 252, 0.2),
    inset 0 0 20px rgba(250, 159, 252, 0.1);
  border-radius: 4px;
  padding: 15px;
  position: absolute;
  left: 100%;
  top: 0;
  min-width: 200px;
  z-index: 100;
  height: 100%;  /* 与父容器等高 */
  display: flex;
  flex-direction: column;
}

.sub-menu h3 {
  color: #FA9FFC;
  text-shadow: 
    0 0 10px rgba(250, 159, 252, 0.5),
    0 0 20px rgba(250, 159, 252, 0.3);
  margin-bottom: 15px;
  padding-bottom: 10px;
  border-bottom: 1px solid rgba(250, 159, 252, 0.3);
}

.sub-categories {
  flex: 1;
  overflow-y: auto;
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  padding: 5px;
  align-content: flex-start;  /* 确保从顶部开始排列 */
  
  /* 滚动条样式 */
  &::-webkit-scrollbar {
    width: 4px;
  }
  
  &::-webkit-scrollbar-track {
    background: rgba(250, 159, 252, 0.1);
  }
  
  &::-webkit-scrollbar-thumb {
    background: rgba(250, 159, 252, 0.3);
    border-radius: 2px;
  }
}

.sub-category {
  display: inline-block;
  padding: 4px 12px;
  margin: 3px;
  border-radius: 4px;
  cursor: pointer;
  color: #fff;
  font-size: 13px;
  transition: all 0.3s ease;
  border: 1px solid rgba(250, 159, 252, 0.2);
  background: rgba(250, 159, 252, 0.05);
  white-space: nowrap;  /* 防止文字换行 */
  
  &:hover {
    background: rgba(250, 159, 252, 0.15);
    transform: translateY(-2px);
    box-shadow: 
      0 5px 15px rgba(250, 159, 252, 0.2),
      inset 0 0 10px rgba(250, 159, 252, 0.1);
  }
}

.el-menu-item {
  padding: 0 15px;
  height: 40px;
  line-height: 40px;
  font-size: 14px;
}

.el-menu-item:hover {
  background-color: #ecf5ff;
}

.products {
  position: relative;
  padding-top: 20px; /* 为动画留出空间 */
}

.products h2 {
  position: relative;
  z-index: 1;
}

.product-card {
  text-align: center;
  background: linear-gradient(
    45deg,
    rgba(6, 5, 36, 0.95),
    rgba(36, 13, 254, 0.15)
  );
  border: 2px solid #24D0FE;
  clip-path: polygon(0 5%, 95% 0, 100% 95%, 5% 100%);
  transform: perspective(1000px) rotateX(5deg);
  border-radius: 8px;
  padding: 10px;
  box-shadow: 
    0 0 15px rgba(36, 208, 254, 0.2),
    inset 0 0 10px rgba(250, 159, 252, 0.1);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
}

.product-card img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 8px;
}

.product-info {
  margin-top: 10px;
  padding: 15px;
  transition: all 0.3s ease;
}

.product-info h3 {
  margin: 10px 0;
  color: #fff;
  text-shadow: 
    0 0 5px rgba(36, 208, 254, 0.5),
    0 0 10px rgba(250, 159, 252, 0.3);
}

.product-info p {
  color: #24D0FE;
  text-shadow: 
    0 0 5px rgba(36, 208, 254, 0.5),
    0 0 10px rgba(250, 159, 252, 0.3);
}

:deep(.el-input__wrapper) {
  background: rgba(6, 5, 36, 0.8);
  border: 2px solid #24D0FE;
  box-shadow: none;
  transition: all 0.3s ease;
}

:deep(.el-input__wrapper.is-focus) {
  box-shadow: 
    0 0 15px rgba(36, 208, 254, 0.3),
    inset 0 0 10px rgba(36, 208, 254, 0.2);
  border-color: #24D0FE;
}

:deep(.el-input__inner) {
  color: #24D0FE;
  font-family: 'Courier New', monospace;
  letter-spacing: 1px;
}

:deep(.el-input__inner::placeholder) {
  color: rgba(36, 208, 254, 0.5);
}

:deep(.el-button) {
  background: rgba(13, 13, 48, 0.9);
  border: 1px solid #FF00FF;
  color: #FF00FF;
  font-family: 'Orbitron', sans-serif;
  text-transform: uppercase;
  letter-spacing: 1px;
  clip-path: polygon(10% 0, 100% 0, 90% 100%, 0 100%);
  position: relative;
  overflow: hidden;
  transition: all 0.3s;
  text-shadow: 0 0 5px rgba(0, 255, 255, 0.5);
  backdrop-filter: blur(8px);
}

:deep(.el-button:hover) {
  transform: translateY(-2px) scale(1.02);
  box-shadow: 
    0 0 10px rgba(255, 0, 255, 0.5),
    inset 0 0 5px rgba(255, 0, 255, 0.3);
  background: rgba(0, 255, 255, 0.1);
  border-color: #FF00FF;
}

:deep(.el-button:hover::before) {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: rgba(255, 255, 255, 0.1);
  transform: rotate(45deg);
  animation: buttonGlow 1s linear infinite;
}

@keyframes buttonGlow {
  0% {
    transform: rotate(45deg) translateY(0);
  }
  100% {
    transform: rotate(45deg) translateY(100%);
  }
}

:deep(.el-button--primary) {
  background: linear-gradient(45deg, #FF00FF, #00FFFF);
  border: none;
  color: #000033;
  font-weight: bold;
}

:deep(.el-button--primary:hover) {
  background: linear-gradient(45deg, #00FFFF, #FF00FF);
  color: #fff;
  box-shadow: 
    0 0 10px #FF00FF,
    0 0 20px rgba(0, 255, 255, 0.5);
}

.decorative-gear {
  position: absolute;
  width: 50px;
  height: 50px;
  border: 3px solid #8B4513;
  border-radius: 50%;
  border-top-color: #FF4500;
  opacity: 0.3;
  animation: rotate 10s linear infinite;
}

@keyframes rotate {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.search-decoration {
  position: absolute;
  width: 20px;
  height: 2px;
  background: #4B0082;
  transition: all 0.3s ease;
}

.search-decoration.left {
  left: 0;
  top: 0;
}

.search-decoration.right {
  right: 0;
  bottom: 0;
}

.search-active ~ .search-decoration.left {
  width: 100%;
  background: linear-gradient(90deg, #9400D3, transparent);
  box-shadow: 0 0 10px rgba(138, 43, 226, 0.5);
  animation: glitchLine 1s infinite;
}

.search-active ~ .search-decoration.right {
  width: 100%;
  background: linear-gradient(90deg, transparent, #9400D3);
  box-shadow: 0 0 10px rgba(138, 43, 226, 0.5);
  animation: glitchLine 1s infinite reverse;
}

@keyframes glitchLine {
  0% {
    transform: translateX(0);
    opacity: 1;
  }
  80% {
    transform: translateX(0);
    opacity: 1;
  }
  90% {
    transform: translateX(-10px);
    opacity: 0.3;
  }
  100% {
    transform: translateX(0);
    opacity: 1;
  }
}

.search-button {
  position: relative;
  overflow: hidden;
  background: rgba(20, 15, 25, 0.9);
  border: none;
  border: 1px solid #4B0082;
  transition: all 0.3s ease;
  color: #9400D3;
}

.search-button-active {
  background: rgba(75, 0, 130, 0.3);
  animation: buttonGlitch 0.3s infinite;
}

.button-text {
  position: relative;
  z-index: 1;
}

.button-glitch {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    45deg, 
    transparent 45%, 
    rgba(138, 43, 226, 0.3) 50%, 
    transparent 55%
  );
  transform: translateX(-100%);
  transition: transform 0.3s ease;
}

.search-button:hover .button-glitch {
  transform: translateX(100%);
}

@keyframes buttonGlitch {
  0% {
    transform: translateX(0);
  }
  20% {
    transform: translateX(-2px);
  }
  40% {
    transform: translateX(2px);
  }
  60% {
    transform: translateX(-1px);
  }
  80% {
    transform: translateX(1px);
  }
  100% {
    transform: translateX(0);
  }
}

/* 浅色主题 */
.light-theme {
  background-color: #F4ECD8;
  background-image: 
    linear-gradient(
      rgba(244, 236, 216, 0.97),
      rgba(238, 228, 204, 0.97)
    ),
    url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23noise)' opacity='0.08'/%3E%3C/svg%3E"),
    url("data:image/svg+xml,%3Csvg width='200' height='200' viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23AA8B56' fill-opacity='0.02' d='M0 0h200v200H0z' filter='blur(2px)'/%3E%3C/svg%3E");
  position: relative;
}

.light-theme::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: 
    radial-gradient(circle at 50% 50%, rgba(244, 236, 216, 0), rgba(205, 190, 155, 0.1)),
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(139, 109, 30, 0.03) 3px,
      transparent 3px
    );
  pointer-events: none;
  z-index: -1;
}

.light-theme .navbar {
  background: linear-gradient(
    rgba(244, 236, 216, 0.95),
    rgba(238, 228, 204, 0.95)
  );
  border-bottom: 2px solid rgba(139, 109, 30, 0.2);
  box-shadow: 
    0 0 20px rgba(139, 109, 30, 0.1),
    inset 0 0 20px rgba(139, 109, 30, 0.05);
}

.light-theme .categories {
  background: rgba(244, 236, 216, 0.95);
  border: 1px solid rgba(139, 109, 30, 0.3);
  padding: 20px;
  border-radius: 4px;
  box-shadow: 
    0 5px 15px rgba(139, 109, 30, 0.1),
    inset 0 0 10px rgba(139, 109, 30, 0.05);
  background-image: 
    linear-gradient(
      rgba(244, 236, 216, 0.95),
      rgba(238, 228, 204, 0.95)
    ),
    url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='paper'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.4' numOctaves='3'/%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23paper)' opacity='0.05'/%3E%3C/svg%3E");
}

.light-theme .categories h2 {
  color: #2C4F2C;
  font-family: "楷体", "KaiTi", serif;
  font-size: 1.5em;
  letter-spacing: 4px;
  text-align: center;
  margin-bottom: 20px;
  padding-bottom: 10px;
  border-bottom: 2px solid rgba(139, 109, 30, 0.2);
  text-shadow: 2px 2px 4px rgba(139, 109, 30, 0.1);
  position: relative;
}

.light-theme .categories h2::after {
  content: '『 』';
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  bottom: -12px;
  font-size: 0.8em;
  color: rgba(139, 109, 30, 0.6);
  background: rgba(244, 236, 216, 0.95);
  padding: 0 10px;
}

.light-theme :deep(.category-menu) {
  background: transparent;
  border: none;
}

.light-theme :deep(.el-menu-item) {
  font-family: "楷体", "KaiTi", serif;
  color: #2C4F2C;
  letter-spacing: 2px;
  font-size: 1.1em;
  height: 45px;
  line-height: 45px;
  margin: 5px 0;
  border-radius: 4px;
  transition: all 0.3s ease;
  position: relative;
  padding-left: 40px !important;
}

.light-theme :deep(.el-menu-item)::before {
  content: '•';
  position: absolute;
  left: 20px;
  opacity: 0.6;
}

.light-theme :deep(.el-menu-item:hover),
.light-theme :deep(.el-menu-item.is-active) {
  background: rgba(139, 109, 30, 0.1);
  color: #1B3B1B;
  box-shadow: 
    0 2px 8px rgba(139, 109, 30, 0.1),
    inset 0 0 5px rgba(139, 109, 30, 0.05);
}

.light-theme .sub-menu {
  position: absolute;
  left: 100%;
  top: 0;
  width: 200px;
  padding: 15px;
  border-radius: 4px;
  z-index: 30;
  background: rgba(244, 236, 216, 0.98);
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.3);
  backdrop-filter: blur(8px);
  border: 1px solid rgba(139, 69, 19, 0.2);
}

.light-theme .sub-menu h3 {
  color: #2C4F2C;
  font-family: "楷体", "KaiTi", serif;
  font-size: 1.2em;
  letter-spacing: 2px;
  margin-bottom: 15px;
  padding-bottom: 8px;
  border-bottom: 1px solid rgba(139, 69, 19, 0.2);
  text-align: center;
  position: relative;
}

.light-theme .sub-menu h3::before,
.light-theme .sub-menu h3::after {
  content: '〜';
  position: absolute;
  top: 0;
  color: rgba(139, 69, 19, 0.4);
}

.light-theme .sub-menu h3::before {
  left: 20px;
}

.light-theme .sub-menu h3::after {
  right: 20px;
}

.light-theme .sub-categories {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

.light-theme .sub-category {
  font-family: "楷体", "KaiTi", serif;
  color: #2C4F2C;
  padding: 8px 15px;
  border-radius: 3px;
  cursor: pointer;
  transition: all 0.3s ease;
  text-align: center;
  font-size: 1.1em;
  letter-spacing: 1px;
  background: rgba(255, 255, 255, 0.8);
  border: 1px solid rgba(139, 69, 19, 0.2);
  position: relative;
  overflow: hidden;
}

.light-theme .sub-category:hover {
  color: #1B3B1B;
  background: rgba(139, 69, 19, 0.15);
  transform: translateY(-2px);
  box-shadow: 
    0 3px 10px rgba(139, 69, 19, 0.1),
    inset 0 0 5px rgba(139, 69, 19, 0.05);
  border-color: rgba(139, 69, 19, 0.4);
}

.light-theme .sub-category::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(45deg, transparent, rgba(139, 69, 19, 0.1), transparent);
  transform: translateX(-100%);
  transition: transform 0.6s ease;
}

.light-theme .sub-category:hover::before {
  transform: translateX(100%);
}

/* 商品区域样式 */
.light-theme .products h2 {
  font-family: "楷体", "KaiTi", serif;
  color: #8B4513;
  text-align: center;
  font-size: 2em;
  letter-spacing: 4px;
  margin: 30px 0;
  position: relative;
}

.light-theme .products h2::before,
.light-theme .products h2::after {
  content: '✦';
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  color: rgba(139, 69, 19, 0.4);
  font-size: 0.8em;
}

.light-theme .products h2::before {
  left: 30%;
}

.light-theme .products h2::after {
  right: 30%;
}

.light-theme .product-card {
  background: rgba(244, 236, 216, 0.95);
  border: none;
  position: relative;
  overflow: hidden;
  transition: all 0.3s ease;
}

.light-theme .product-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: 
    linear-gradient(
      rgba(244, 236, 216, 0.97),
      rgba(238, 228, 204, 0.97)
    ),
    url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='paper'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.4' numOctaves='3'/%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23paper)' opacity='0.05'/%3E%3C/svg%3E");
  z-index: -1;
}

.light-theme .product-card::after {
  content: '';
  position: absolute;
  top: 4px;
  left: 4px;
  right: 4px;
  bottom: 4px;
  border: 1px solid rgba(139, 69, 19, 0.2);
  z-index: -1;
}

.light-theme .product-card:hover {
  transform: translateY(-5px);
  box-shadow: 
    0 10px 20px rgba(139, 69, 19, 0.15),
    0 0 15px rgba(139, 69, 19, 0.1);
}

.light-theme .product-card:hover::after {
  border-color: rgba(139, 69, 19, 0.4);
}

.light-theme .product-info {
  padding: 15px;
  position: relative;
}

.light-theme .product-info::before {
  content: '';
  position: absolute;
  top: 0;
  left: 10%;
  right: 10%;
  height: 1px;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(139, 69, 19, 0.2),
    transparent
  );
}

.light-theme .product-info h3 {
  font-family: "楷体", "KaiTi", serif;
  color: #8B4513;
  font-size: 1.2em;
  letter-spacing: 2px;
  margin-bottom: 10px;
  text-align: center;
}

.light-theme .product-info p {
  font-family: "楷体", "KaiTi", serif;
  color: #A0522D;
  text-align: center;
  margin: 10px 0;
  font-size: 1.1em;
}

.light-theme .product-info .el-button {
  display: block;
  width: 80%;
  margin: 15px auto;
  font-family: "楷体", "KaiTi", serif;
  background: transparent;
  border: 1px solid rgba(139, 69, 19, 0.3);
  color: #8B4513;
  transition: all 0.3s ease;
}

.light-theme .product-info .el-button:hover {
  background: rgba(139, 69, 19, 0.1);
  border-color: rgba(139, 69, 19, 0.5);
  color: #A0522D;
  transform: translateY(-2px);
  box-shadow: 
    0 5px 15px rgba(139, 69, 19, 0.1),
    inset 0 0 5px rgba(139, 69, 19, 0.05);
}

/* 商品图片容器 */
.light-theme .product-card .image-container {
  position: relative;
  padding: 10px;
  background: rgba(244, 236, 216, 0.8);
}

.light-theme .product-card img {
  border-radius: 4px;
  transition: all 0.3s ease;
  border: 1px solid rgba(139, 69, 19, 0.1);
}

.light-theme .product-card:hover img {
  transform: scale(1.02);
  border-color: rgba(139, 69, 19, 0.3);
}

/* 装饰性角落 */
.light-theme .product-card::before {
  content: '';
  position: absolute;
  width: 20px;
  height: 20px;
  border-top: 2px solid rgba(139, 69, 19, 0.2);
  border-left: 2px solid rgba(139, 69, 19, 0.2);
  top: 10px;
  left: 10px;
}

.light-theme .product-card::after {
  content: '';
  position: absolute;
  width: 20px;
  height: 20px;
  border-bottom: 2px solid rgba(139, 69, 19, 0.2);
  border-right: 2px solid rgba(139, 69, 19, 0.2);
  bottom: 10px;
  right: 10px;
}

.light-theme .search-container {
  position: relative;
  background: rgba(244, 236, 216, 0.95);
  border: 1px solid rgba(139, 69, 19, 0.3);
  border-radius: 4px;
  padding: 2px;
  box-shadow: 
    0 5px 15px rgba(139, 69, 19, 0.1),
    inset 0 0 10px rgba(139, 69, 19, 0.05);
}

.light-theme :deep(.el-input__wrapper) {
  background: rgba(244, 236, 216, 0.95);
  border: none;
  box-shadow: none !important;
}

.light-theme :deep(.el-input__inner) {
  color: #8B4513;
  font-family: "楷体", "KaiTi", serif;
  font-size: 1.1em;
  letter-spacing: 1px;
  &::placeholder {
    color: rgba(139, 69, 19, 0.6);
  }
}

.light-theme :deep(.el-input__prefix-inner) {
  color: rgba(139, 69, 19, 0.6);
}

.light-theme .search-button {
  background: transparent;
  border: 1px solid rgba(139, 69, 19, 0.3);
  color: #8B4513;
  font-family: "楷体", "KaiTi", serif;
  letter-spacing: 2px;
  position: relative;
  overflow: hidden;
  transition: all 0.3s ease;
  
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1h38v38H1z' fill='none' stroke='%23698269' stroke-width='0.5' stroke-opacity='0.2' stroke-dasharray='2 2'/%3E%3C/svg%3E");
    opacity: 0.2;
    z-index: -1;
  }
}

.light-theme .search-button:hover {
  background: rgba(139, 69, 19, 0.1);
  border-color: rgba(139, 69, 19, 0.5);
  transform: translateY(-1px);
  box-shadow: 
    0 5px 15px rgba(139, 69, 19, 0.1),
    inset 0 0 5px rgba(139, 69, 19, 0.05);
}

.light-theme .search-decoration {
  display: none;
}

.light-theme .search-active {
  border-color: rgba(139, 69, 19, 0.5);
  box-shadow: 
    0 5px 15px rgba(139, 69, 19, 0.15),
    inset 0 0 10px rgba(139, 69, 19, 0.1);
}

/* 导航栏按钮样式 */
.light-theme .nav-links {
  display: flex;
  gap: 15px;
  align-items: center;
}

.light-theme .nav-links :deep(.el-button) {
  background: rgba(244, 236, 216, 0.95);
  border: 1px solid rgba(139, 69, 19, 0.3);
  color: #8B4513;
  font-family: "楷体", "KaiTi", serif;
  font-size: 1.1em;
  letter-spacing: 2px;
  padding: 8px 20px;
  position: relative;
  overflow: hidden;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
      url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1h38v38H1z' fill='none' stroke='%23698269' stroke-width='0.5' stroke-opacity='0.2' stroke-dasharray='2 2'/%3E%3C/svg%3E");
    opacity: 0.2;
    z-index: -1;
  }

  &:hover {
    background: rgba(139, 69, 19, 0.1);
    border-color: rgba(139, 69, 19, 0.5);
    transform: translateY(-2px);
    box-shadow: 
      0 5px 15px rgba(139, 69, 19, 0.1),
       inset 0 0 5px rgba(139, 69, 19, 0.05);
  }
}

/* 为每个导航按钮添加独特的装饰 */
.light-theme .nav-links :deep(.nav-home::after) {
  content: '『家』';
  position: absolute;
  bottom: 2px;
  right: 2px;
  font-size: 0.7em;
  color: rgba(139, 69, 19, 0.4);
}

.light-theme .nav-links :deep(.nav-cart::after) {
  content: '『市』';
  position: absolute;
  bottom: 2px;
  right: 2px;
  font-size: 0.7em;
  color: rgba(139, 69, 19, 0.4);
}

.light-theme .nav-links :deep(.nav-profile::after) {
  content: '『我』';
  position: absolute;
  bottom: 2px;
  right: 2px;
  font-size: 0.7em;
  color: rgba(139, 69, 19, 0.4);
}

.title-container {
  position: relative;
  margin-bottom: 30px;
  padding: 0;
  overflow: hidden;
}

.title-container h2 {
  position: relative;
  z-index: 1;
  margin: 0;
  font-size: 28px;
}

/* 白天模式的叶子动画 */
.light-theme .title-container::before {
  content: '🍂';
  position: absolute;
  font-size: 20px;
  color: #8B4513;
  opacity: 0;
  animation: customLeafFall 8s linear infinite;
}

.light-theme .title-container::after {
  content: '🍂';
  position: absolute;
  font-size: 24px;
  color: #8B4513;
  opacity: 0;
  animation: customLeafFall 8s linear infinite;
  animation-delay: 4s;
}

.light-theme .title-container {
  position: relative;
}

.light-theme .title-container .leaf {
  position: absolute;
  opacity: 0;
  font-size: 20px;
  content: '🍂';
  animation: customLeafFall 8s linear infinite;
}

/* 为每片叶子设置不同的大小和延迟 */
.light-theme .title-container .leaf:nth-child(1) {
  font-size: 16px;
  animation-delay: 0s;
  right: 10%;
}

.light-theme .title-container .leaf:nth-child(2) {
  font-size: 20px;
  animation-delay: 1.5s;
  right: 30%;
}

.light-theme .title-container .leaf:nth-child(3) {
  font-size: 24px;
  animation-delay: 3s;
  right: 50%;
}

.light-theme .title-container .leaf:nth-child(4) {
  font-size: 18px;
  animation-delay: 4.5s;
  right: 70%;
}

.light-theme .title-container .leaf:nth-child(5) {
  font-size: 22px;
  animation-delay: 6s;
  right: 90%;
}

.light-theme .title-container .leaf:nth-child(6) {
  font-size: 19px;
  animation-delay: 7.5s;
  right: 20%;
}

@keyframes leafFloat {
  0% {
    right: 0;
    transform: 
      translateX(0)
      translateY(0)
      rotate(0deg)
      scale(0.8);
    opacity: 0;
  }
  
  10% {
    opacity: 1;
    transform: 
      translateX(calc(var(--amplitude) * 1px))
      translateY(calc(var(--fall-speed) * 10vh))
      rotate(45deg)
      scale(1);
  }
  
  45% {
    transform: 
      translateX(calc(var(--amplitude) * -1.2 * 1px))
      translateY(calc(var(--fall-speed) * 45vh))
      rotate(180deg)
      scale(1);
  }
  
  75% {
    transform: 
      translateX(calc(var(--amplitude) * 0.8 * 1px))
      translateY(calc(var(--fall-speed) * 75vh))
      rotate(270deg)
      scale(1);
    opacity: 1;
  }
  
  100% {
    right: 100%;
    transform: 
      translateX(0)
      translateY(calc(var(--fall-speed) * 100vh))
      rotate(360deg)
      scale(0.8);
    opacity: 0;
  }
}

/* 简化黑夜模式样式 */
.dark-mode {
  background: rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(255, 0, 255, 0.2);
  box-shadow: 0 0 10px rgba(255, 0, 255, 0.1);
  transition: background-color 0.3s ease;
}

.dark-mode h2 {
  color: #fff;
  text-shadow: 0 0 5px rgba(255, 0, 255, 0.3);
}

/* 分隔线基础样式 */
.section-divider {
  position: relative;
  height: 2px;
  margin: 30px 0;
  overflow: hidden;
}

/* 暗色主题分隔线 */
.section-divider:not(.light) {
  background: linear-gradient(90deg,
    transparent,
    rgba(255, 0, 255, 0.2),
    rgba(0, 255, 255, 0.2),
    transparent
  );
}

.section-divider:not(.light)::before {
  content: '';
  position: absolute;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg,
    transparent,
    rgba(255, 0, 255, 0.6),
    rgba(0, 255, 255, 0.6),
    transparent
  );
  animation: neonPulse 3s ease-in-out infinite;
}

@keyframes neonPulse {
  0%, 100% {
    opacity: 0;
    transform: translateX(-100%);
  }
  50% {
    opacity: 1;
    transform: translateX(100%);
  }
}

/* 亮色主题分隔线 */
.section-divider.light {
  background: linear-gradient(90deg,
    transparent,
    rgba(139, 69, 19, 0.1),
    rgba(139, 109, 30, 0.2),
    transparent
  );
}

.section-divider.light::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  height: 1px;
  background: repeating-linear-gradient(90deg,
    transparent,
    transparent 4px,
    rgba(139, 69, 19, 0.2) 4px,
    rgba(139, 69, 19, 0.2) 8px
  );
}

.section-divider.light::after {
  content: '❀';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 16px;
  color: rgba(139, 69, 19, 0.4);
  background: #fff;
  padding: 0 15px;
}

/* 为每个区域添加过渡效果 */
.main-content,
.products {
  position: relative;
  padding: 20px 0;
  transition: transform 0.3s ease;
}

.main-content:hover,
.products:hover {
  transform: translateY(-2px);
}

/* 优化区域标题样式 */
.title-container {
  margin-top: 20px;
}

/* 适配不同主题 */
.light-theme .section-divider.light::after {
  background: rgba(244, 236, 216, 0.95);
}

.dark-theme .section-divider:not(.light)::after {
  text-shadow: 0 0 5px rgba(255, 0, 255, 0.5);
}

/* 标题分隔线样式 */
.title-divider {
  position: relative;
  height: 2px;
  margin: 20px 0;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* 暗色主题标题分隔线 */
.title-divider:not(.light) {
  background: linear-gradient(90deg,
    transparent 0%,
    rgba(255, 0, 255, 0.2) 25%,
    rgba(0, 255, 255, 0.2) 50%,
    rgba(255, 0, 255, 0.2) 75%,
    transparent 100%
  );
}

.title-divider:not(.light)::before,
.title-divider:not(.light)::after {
  content: '';
  position: absolute;
  top: 0;
  width: 40%;
  height: 100%;
  background: linear-gradient(90deg,
    transparent,
    rgba(255, 0, 255, 0.6),
    rgba(0, 255, 255, 0.6)
  );
  animation: neonFlow 3s ease-in-out infinite;
}

.title-divider:not(.light)::before {
  left: 0;
  transform-origin: left;
}

.title-divider:not(.light)::after {
  right: 0;
  transform: scaleX(-1);
  transform-origin: right;
}

.title-divider:not(.light) .divider-text {
  color: #fff;
  font-size: 24px;
  font-weight: bold;
  padding: 0 20px;
  background: #0B0B2B;
  z-index: 1;
  text-shadow: 
    0 0 10px rgba(255, 0, 255, 0.5),
    0 0 20px rgba(0, 255, 255, 0.3);
}

@keyframes neonFlow {
  0%, 100% {
    opacity: 0.3;
    transform: scaleX(0.8);
  }
  50% {
    opacity: 1;
    transform: scaleX(1);
  }
}

/* 亮色主题标题分隔线 */
.title-divider.light {
  background: linear-gradient(90deg,
    transparent,
    rgba(139, 69, 19, 0.1),
    rgba(139, 109, 30, 0.2),
    rgba(139, 69, 19, 0.1),
    transparent
  );
}

.title-divider.light::before,
.title-divider.light::after {
  content: '';
  position: absolute;
  width: 35%;
  height: 1px;
  background: repeating-linear-gradient(90deg,
    transparent,
    transparent 4px,
    rgba(139, 69, 19, 0.3) 4px,
    rgba(139, 69, 19, 0.3) 8px
  );
}

.title-divider.light::before {
  left: 0;
}

.title-divider.light::after {
  right: 0;
}

.title-divider.light .divider-text {
  color: #8B4513;
  font-size: 24px;
  font-weight: bold;
  padding: 0 20px;
  background: rgba(244, 236, 216, 0.95);
  z-index: 1;
  font-family: "楷体", "KaiTi", serif;
  letter-spacing: 4px;
}

.title-divider.light::before,
.title-divider.light::after {
  content: '❀';
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  font-size: 16px;
  color: rgba(139, 69, 19, 0.4);
  background: rgba(244, 236, 216, 0.95);
  padding: 0 10px;
}

.title-divider.light::before {
  left: 30%;
}

.title-divider.light::after {
  right: 30%;
}

/* 移除原有的标题样式 */
.title-container {
  position: relative;
  margin-bottom: 30px;
  padding: 0;
  overflow: hidden;
}

/* 更新主题切换过渡效果 */
.title-container,
.title-divider,
.divider-text {
  transition: all 0.3s ease;
}

/* 优化轮播图容器样式 */
.el-carousel-item {
  height: 100%;
}

:deep(.el-carousel__item) {
  height: 100%;
}

/* 图片加载组件样式调整 */
:deep(.carousel-image .image-loader) {
  height: 100%;
  min-height: unset;
}

:deep(.carousel-image img) {
  height: 100%;
  object-fit: cover;
}

/* 优化商品卡片布局 */
.product-card {
  margin-bottom: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
}

.light-theme .product-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.home-container:not(.light-theme) .product-card {
  background: rgba(20, 20, 40, 0.6);
  border: 1px solid rgba(255, 0, 255, 0.1);
}

.home-container:not(.light-theme) .product-card:hover {
  transform: translateY(-5px);
  box-shadow: 
    0 0 20px rgba(255, 0, 255, 0.2),
    0 0 30px rgba(0, 255, 255, 0.1);
  border: 1px solid rgba(255, 0, 255, 0.3);
}

.home-container:not(.light-theme) .product-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(45deg,
    transparent,
    rgba(255, 0, 255, 0.1),
    rgba(0, 255, 255, 0.1),
    transparent
  );
  opacity: 0;
  transition: opacity 0.3s ease;
}

.home-container:not(.light-theme) .product-card:hover::before {
  opacity: 1;
}

/* 优化商品信息样式 */
.product-info {
  padding: 15px;
  transition: all 0.3s ease;
}

.home-container:not(.light-theme) .product-info {
  background: rgba(0, 0, 0, 0.4);
}

.home-container:not(.light-theme) .product-info h3 {
  color: #fff;
  text-shadow: 0 0 5px rgba(255, 0, 255, 0.3);
}

.home-container:not(.light-theme) .product-info p {
  color: #00ffff;
  text-shadow: 0 0 5px rgba(0, 255, 255, 0.3);
}

/* 优化按钮样式 */
.home-container:not(.light-theme) .product-info .el-button {
  background: linear-gradient(45deg, #ff00ff, #00ffff);
  border: none;
  color: #fff;
  transition: all 0.3s ease;
}

.home-container:not(.light-theme) .product-info .el-button:hover {
  transform: scale(1.05);
  box-shadow: 0 0 15px rgba(255, 0, 255, 0.4);
}

/* 添加页���底部间距 */
.products {
  margin-bottom: 40px;
}

/* 优��商品网格布局 */
.el-row {
  margin: 0 -10px;
}

.el-col {
  padding: 0 10px;
}

/* 响应式导航栏 */
@media screen and (max-width: 768px) {
  .navbar {
    flex-direction: column;
    padding: 10px;
    position: relative;
    top: 0;
    left: 0;
    width: 100%;
  }

  .logo-container {
    margin-bottom: 10px;
  }

  .search-container {
    width: 100%;
    margin: 10px 0;
  }

  .nav-links {
    width: 100%;
    justify-content: space-around;
  }

  .nav-links .el-button {
    padding: 8px 12px;
    font-size: 14px;
  }
}

/* 响应式分类区域 */
@media screen and (max-width: 768px) {
  .categories {
    margin-top: 20px;
    padding: 10px;
    height: auto;
  }

  .sub-menu {
    position: relative;
    width: 100%;
    margin-top: 10px;
  }

  .sub-categories {
    max-height: 200px;
  }
}

/* 响应式轮播图 */
@media screen and (max-width: 768px) {
  .carousel {
    margin-top: 20px;
    width: 100% !important;
  }
  
  .carousel :deep(.el-carousel__item) {
    width: 100% !important;
    transform: none !important;
  }
  
  .carousel :deep(.el-carousel__item--card) {
    width: 90% !important;
    transform: none !important;
  }
  
  .carousel-image {
    height: 100%;
    object-fit: cover;
    width: 100%;
    border-radius: 0;
  }
  
  /* 调整指示器位置 */
  .carousel :deep(.el-carousel__indicators) {
    transform: translateY(10px);
    bottom: -20px;
  }
  
  /* 调整轮播图箭头位置 */
  .carousel :deep(.el-carousel__arrow) {
    transform: translateY(-50%);
    background-color: rgba(250, 159, 252, 0.3);
    
    &:hover {
      background-color: rgba(250, 159, 252, 0.5);
    }
  }
  
  /* 优化商品卡片在移动端的显示 */
  .product-card {
    display: flex;
    flex-direction: column;
    height: auto;
    
    .product-image {
      width: 100%;
      height: 180px;
      
      img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
    }
    
    .product-info {
      flex: 1;
      padding: 15px;
      
      h3 {
        font-size: 16px;
        margin-bottom: 8px;
      }
      
      .price {
        font-size: 18px;
        margin-bottom: 10px;
      }
      
      .description {
        font-size: 14px;
        margin-bottom: 15px;
        height: auto;
        max-height: 40px;
      }
    }
  }
}

/* 调整商品列表容器的间距 */
.products {
  margin-top: 40px;
  padding: 0 15px;
  
  @media screen and (max-width: 768px) {
    margin-top: 30px;
    padding: 0 10px;
  }
}

/* 响应式标题和分隔线 */
@media screen and (max-width: 768px) {
  .title-divider {
    margin: 15px 0;
  }

  .title-divider .divider-text {
    font-size: 20px;
    padding: 0 15px;
  }

  .section-divider {
    margin: 20px 0;
  }
}

/* 响应式间距调整 */
@media screen and (max-width: 768px) {
  .home-container {
    padding: 10px;
  }

  .main-content,
  .products {
    padding: 10px 0;
  }

  .el-row {
    margin: 0 -5px;
  }

  .el-col {
    padding: 0 5px;
  }
}

/* 适配不同设备的悬停效果 */
@media (hover: hover) {
  .product-card:hover {
    transform: translateY(-5px);
  }
}

@media (hover: none) {
  .product-card:active {
    transform: scale(0.98);
  }
}

/* 优化移动端触摸体验 */
@media (max-width: 768px) {
  .product-card {
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
  }

  .el-button {
    min-height: 44px; /* 确保触摸目标足够大 */
  }
}

/* 优化导航栏固定定位在移动端的表现 */
@media screen and (max-width: 768px) {
  .navbar-fixed {
    position: sticky;
    top: 0;
  }

  .navbar-placeholder {
    height: auto;
  }
}

/* 优化暗色主题在移动端的视觉效果 */
@media screen and (max-width: 768px) {
  .home-container:not(.light-theme) .product-card:hover {
    box-shadow: 
      0 0 15px rgba(255, 0, 255, 0.15),
      0 0 20px rgba(0, 255, 255, 0.1);
  }

  .title-divider:not(.light) .divider-text {
    font-size: 20px;
    padding: 0 15px;
  }
}

/* 修复亮色主题下二级菜单的显示问题 */
.light-theme .categories .sub-menu {
  display: block;
  visibility: visible;
  opacity: 1;
  background: rgba(244, 236, 216, 0.98);
  border: 1px solid rgba(139, 69, 19, 0.2);
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
}

/* 优化二级菜单的显示/隐藏过渡 */
.sub-menu {
  transition: opacity 0.3s ease, visibility 0.3s ease;
}

.sub-menu:not([style*="display: none"]) {
  visibility: visible;
  opacity: 1;
}

/* 调整导航栏固定定位后的内容布局 */
.navbar-fixed + .main-content {
  margin-top: 60px;
}

/* 确保内容不被固定导航栏遮挡 */
.home-container {
  padding-top: 0;
}

/* 移动端分类样式 */
.mobile-categories {
  width: 100%;
  margin-bottom: 20px;
}

.mobile-sub-categories {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  padding: 10px;
}

:deep(.el-collapse) {
  border: none;
  background: transparent;
}

:deep(.el-collapse-item__header) {
  background: rgba(255, 255, 255, 0.1);
  color: #fff;
  border: none;
  padding: 0 15px;
  height: 48px;
  line-height: 48px;
  border-radius: 4px;
}

:deep(.el-collapse-item__content) {
  background: rgba(0, 0, 0, 0.2);
  color: #fff;
  padding: 10px;
  border-radius: 0 0 4px 4px;
}

:deep(.el-tag) {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: #fff;
  margin: 5px;
  cursor: pointer;
  transition: all 0.3s;
}

:deep(.el-tag:hover) {
  background: rgba(0, 255, 255, 0.2);
  transform: translateY(-2px);
}

/* 亮色主题移动端样式 */
.light-theme :deep(.el-collapse-item__header) {
  background: rgba(244, 236, 216, 0.95);
  color: #2C4F2C;
  border-bottom: 1px solid rgba(139, 69, 19, 0.1);
}

.light-theme :deep(.el-collapse-item__content) {
  background: rgba(244, 236, 216, 0.8);
  color: #2C4F2C;
}

.light-theme :deep(.el-tag) {
  background: rgba(255, 255, 255, 0.8);
  border: 1px solid rgba(139, 69, 19, 0.2);
  color: #2C4F2C;
}

.light-theme :deep(.el-tag:hover) {
  background: rgba(139, 69, 19, 0.15);
  border-color: rgba(139, 69, 19, 0.4);
}

@media screen and (max-width: 768px) {
  .categories {
    margin-top: 20px;
    padding: 10px;
  }
}

/* 暗色主题折叠面板样式 */
.home-container:not(.light-theme) .mobile-categories :deep(.el-collapse-item__header) {
  background: linear-gradient(
    135deg,
    rgba(20, 20, 40, 0.8),
    rgba(40, 20, 60, 0.8)
  );
  color: #fff;
  border: 1px solid rgba(0, 255, 255, 0.2);
  border-radius: 4px;
  position: relative;
  overflow: hidden;
  backdrop-filter: blur(5px);
  box-shadow: 
    0 0 10px rgba(255, 0, 255, 0.2),
    inset 0 0 5px rgba(0, 255, 255, 0.2);
}

/* 全息效果 - 扫描线 */
.home-container:not(.light-theme) .mobile-categories :deep(.el-collapse-item__header)::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(0, 255, 255, 0.2),
    rgba(255, 0, 255, 0.2),
    transparent
  );
  animation: holoScan 3s linear infinite;
}

/* 全息效果 - 故障线 */
.home-container:not(.light-theme) .mobile-categories :deep(.el-collapse-item__header)::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(
    90deg,
    transparent,
    #0ff,
    #f0f,
    transparent
  );
  animation: glitchLine 2s linear infinite;
  opacity: 0.5;
}

/* 暗色主题展开内容样式 */
.home-container:not(.light-theme) .mobile-categories :deep(.el-collapse-item__content) {
  background: rgba(20, 20, 40, 0.9);
  border: 1px solid rgba(0, 255, 255, 0.15);
  border-top: none;
  position: relative;
  overflow: hidden;
  backdrop-filter: blur(10px);
  box-shadow: 
    0 0 15px rgba(255, 0, 255, 0.1),
    inset 0 0 8px rgba(0, 255, 255, 0.1);
}

/* 全息网格背景 */
.home-container:not(.light-theme) .mobile-categories :deep(.el-collapse-item__content)::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: 
    linear-gradient(0deg, transparent 24%, rgba(0, 255, 255, 0.05) 25%, rgba(0, 255, 255, 0.05) 26%, transparent 27%, transparent 74%, rgba(255, 0, 255, 0.05) 75%, rgba(255, 0, 255, 0.05) 76%, transparent 77%, transparent),
    linear-gradient(90deg, transparent 24%, rgba(0, 255, 255, 0.05) 25%, rgba(0, 255, 255, 0.05) 26%, transparent 27%, transparent 74%, rgba(255, 0, 255, 0.05) 75%, rgba(255, 0, 255, 0.05) 76%, transparent 77%, transparent);
  background-size: 30px 30px;
  animation: gridPulse 3s ease infinite;
}

/* 暗色主题标签样式 */
.home-container:not(.light-theme) .mobile-sub-categories .el-tag {
  background: rgba(20, 20, 40, 0.8);
  border: 1px solid rgba(0, 255, 255, 0.2);
  color: #fff;
  text-shadow: 0 0 5px rgba(0, 255, 255, 0.5);
  position: relative;
  overflow: hidden;
}

.home-container:not(.light-theme) .mobile-sub-categories .el-tag::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: linear-gradient(
    45deg,
    transparent,
    rgba(0, 255, 255, 0.1),
    rgba(255, 0, 255, 0.1),
    transparent
  );
  transform: rotate(45deg);
  animation: holoShift 3s linear infinite;
}

/* 动画定义 */
@keyframes holoScan {
  0% {
    left: -100%;
  }
  100% {
    left: 200%;
  }
}

@keyframes glitchLine {
  0% {
    transform: translateY(-100%);
  }
  100% {
    transform: translateY(100%);
  }
}

@keyframes gridPulse {
  0%, 100% {
    opacity: 0.3;
  }
  50% {
    opacity: 0.6;
  }
}

@keyframes holoShift {
  0% {
    opacity: 0;
    transform: rotate(45deg) translateY(-100%);
  }
  30% {
    opacity: 0.3;
  }
  70% {
    opacity: 0.1;
  }
  100% {
    opacity: 0;
    transform: rotate(45deg) translateY(100%);
  }
}

/* 使用 CSS containment 优化渲染性能 */
.home-container {
  contain: content;
}

/* 使用 will-change 提示浏览器优化动画 */
.mobile-categories :deep(.el-collapse-item__header)::before,
.mobile-categories :deep(.el-collapse-item__header)::after {
  will-change: transform, opacity;
}

/* 使用 transform 替代 left/top 动画 */
@keyframes holoScan {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(200%);
  }
}

/* 减少重绘的动画属性 */
.mobile-categories :deep(.el-collapse-item) {
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* 主题切换按钮样式 */
.theme-toggle-wrapper {
  position: relative;
  margin: 0 10px;
}

.theme-toggle {
  background: transparent;
  border: none;
  cursor: pointer;
  padding: 8px;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
}

/* 白天模式图标样式 */
.sun-icon {
  width: 24px;
  height: 24px;
  stroke: #FFB100;
  stroke-width: 2;
  fill: none;
  transition: all 0.3s ease;
}

.sun-core {
  fill: #FFB100;
}

.sun-rays line {
  stroke: #FFB100;
  stroke-linecap: round;
}

.theme-toggle:hover .sun-icon {
  transform: rotate(180deg);
}

/* 黑夜模式赛博朋克风格 */
.cyber-moon {
  width: 24px;
  height: 24px;
  fill: none;
  stroke-width: 1.5;
}

.moon-body {
  fill: #00FFFF;
  stroke: #FF00FF;
  filter: drop-shadow(0 0 2px #00FFFF);
}

.cyber-effects {
  opacity: 0.8;
}

.circuit-line {
  stroke: #FF00FF;
  stroke-width: 0.5;
  stroke-dasharray: 4;
  animation: circuitFlow 2s linear infinite;
}

.glow-point {
  fill: #00FFFF;
  filter: drop-shadow(0 0 2px #00FFFF);
  animation: glowPulse 1.5s ease-in-out infinite;
}

@keyframes circuitFlow {
  0% {
    stroke-dashoffset: 24;
  }
  100% {
    stroke-dashoffset: 0;
  }
}

@keyframes glowPulse {
  0%, 100% {
    opacity: 0.5;
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(1.2);
  }
}

/* 主题切换动画 */
.theme-toggle {
  position: relative;
  overflow: hidden;
}

.theme-toggle::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(circle, 
    rgba(255, 177, 0, 0.2) 0%,
    transparent 70%
  );
  opacity: 0;
  transition: opacity 0.3s ease;
}

.theme-toggle.dark::before {
  background: radial-gradient(circle,
    rgba(0, 255, 255, 0.2) 0%,
    rgba(255, 0, 255, 0.1) 50%,
    transparent 70%
  );
}

.theme-toggle:hover::before {
  opacity: 1;
}

/* 商品卡片样式 */
.product-card {
  margin-bottom: 20px;
  transition: transform 0.3s ease;
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.product-card:hover {
  transform: translateY(-5px);
}

.product-info {
  padding: 15px;
}

.product-info h3 {
  margin: 0 0 10px;
  font-size: 1.1em;
  color: #fff;
}

.product-info p {
  margin: 0 0 15px;
  color: #4ECDC4;
}

/* 商品网格布局 */
.products {
  margin-top: 40px;
}

.title-divider {
  text-align: center;
  margin: 30px 0;
  position: relative;
}

.title-divider::before,
.title-divider::after {
  content: '';
  position: absolute;
  top: 50%;
  width: 30%;
  height: 1px;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3));
}

.title-divider::before {
  left: 0;
}

.title-divider::after {
  right: 0;
  transform: rotate(180deg);
}

.divider-text {
  background: #0B0B2B;
  padding: 0 20px;
  color: #4ECDC4;
  font-size: 1.2em;
}

/* 响应式布局 */
@media screen and (max-width: 768px) {
  .product-card {
    margin: 10px;
  }
  
  .title-divider::before,
  .title-divider::after {
    width: 20%;
  }
}

.product-image {
  height: 200px;
  overflow: hidden;
}

.image-placeholder {
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 0, 0.1);
}

.price {
  font-size: 1.2em;
  font-weight: bold;
  color: #FF6B6B;
}

.description {
  color: #999;
  font-size: 0.9em;
  margin: 10px 0;
  height: 40px;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}

/* 滚动条样式 */
.sub-categories::-webkit-scrollbar {
  width: 6px;
}

.sub-categories::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.1);
  border-radius: 3px;
}

.sub-categories::-webkit-scrollbar-thumb {
  background: rgba(0, 255, 255, 0.3);
  border-radius: 3px;
}

.light-theme .sub-categories::-webkit-scrollbar-thumb {
  background: rgba(139, 69, 19, 0.3);
}

/* 响应式布局调整 */
@media screen and (min-width: 1200px) {
  .sub-menu {
    left: 100%;
    top: 0;
  }
}

@media screen and (max-width: 768px) {
  .light-theme .sub-menu {
    position: relative;
    left: 0;
    top: 0;
    width: 100%;
    margin-top: 10px;
    background: rgba(244, 236, 216, 0.95);
  }
  
  .light-theme .sub-category {
    width: calc(50% - 10px);
    margin: 5px;
  }
}

/* 移动端黑暗模式下的分类区域调整 */
.home-container:not(.light-theme) .mobile-categories {
  margin-top: 10px;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 4px;
  padding: 10px;
}

/* 确保内容不被导航栏遮挡 */
.main-content {
  padding-top: 10px;
}

/* 自定义轮播图切换动画 */
.carousel :deep(.el-carousel__item--card.is-in-stage) {
  position: absolute;
  z-index: 1;
}

.carousel :deep(.el-carousel__item--card.is-active) {
  transform: translateZ(0) scale(1);
  opacity: 1;
  z-index: 2;
}

/* 向左切换时的动画 */
.carousel :deep(.el-carousel__item--card.is-moving-left) {
  transform: translate3d(-50%, -50%, -500px) scale(0.3);
  opacity: 0;
  z-index: 0;
}

/* 向右切换时的动画 */
.carousel :deep(.el-carousel__item--card.is-moving-right) {
  transform: translate3d(50%, 50%, -500px) scale(0.3);
  opacity: 0;
  z-index: 0;
}

/* 即将进入的项目 */
.carousel :deep(.el-carousel__item--card.is-coming) {
  transform: translate3d(0, 0, -200px) scale(0.6);
  opacity: 0;
  z-index: 1;
}

@keyframes zoomInCenter {
  from {
    transform: translate3d(0, 0, -200px) scale(0.6);
    opacity: 0;
  }
  to {
    transform: translateZ(0) scale(1);
    opacity: 1;
  }
}

@keyframes zoomOutTopLeft {
  from {
    transform: translateZ(0) scale(1);
    opacity: 1;
  }
  to {
    transform: translate3d(-50%, -50%, -500px) scale(0.3);
    opacity: 0;
  }
}

/* 移动端分类展示的样式调整 */
.mobile-categories {
  margin-top: 40px;  /* 移动端也增加顶部间距 */
  background: rgba(6, 5, 36, 0.8);
  border-radius: 4px;
  padding: 15px;
}

/* 移动端样式 */
.mobile-categories {
  height: 100%;
  overflow-y: auto;
}

.mobile-categories h2 {
  color: #FA9FFC;
  text-shadow: 
    0 0 10px rgba(250, 159, 252, 0.5),
    0 0 20px rgba(250, 159, 252, 0.3);
  margin-bottom: 15px;
  font-size: 1.2em;
}

:deep(.el-collapse) {
  border: none;
  background: transparent;
}

:deep(.el-collapse-item__header) {
  background: transparent;
  color: #fff;
  border-bottom: 1px solid rgba(250, 159, 252, 0.2);
  
  &:hover {
    background: rgba(250, 159, 252, 0.1);
  }
}

:deep(.el-collapse-item__content) {
  background: transparent;
  color: #fff;
  padding: 10px;
}

.mobile-sub-categories {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  padding: 5px 0;
}

.mobile-sub-category {
  display: inline-block;
  padding: 4px 12px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 13px;
  transition: all 0.3s ease;
  white-space: nowrap;
}

/* 移动端亮色模式样式 */
 .home-container.light-theme .mobile-categories {
   background: rgba(255, 255, 255, 0.9);
   
   h2 {
     color: #FF6B6B;
     text-shadow: 
       0 0 10px rgba(255, 107, 107, 0.4),
       0 0 20px rgba(255, 107, 107, 0.2);
   }
   
  :deep(.el-collapse) {
     border: none;
     background: transparent;
   }
   
   :deep(.el-collapse-item__header) {
     background: transparent;
     color: #666;
     border-bottom: 1px solid rgba(255, 107, 107, 0.2);
     
     &:hover {
       background: rgba(255, 107, 107, 0.1);
       color: #FF6B6B;
     }
   }
   
   :deep(.el-collapse-item__content) {
     background: transparent;     color: #666;
   }
   
   .mobile-sub-category {
    background: rgba(255, 107, 107, 0.05);
     border: 1px solid rgba(255, 107, 107, 0.2);
     color: #666;
     
     &:hover {
       background: rgba(255, 107, 107, 0.15);
       color: #FF6B6B;
       box-shadow: 
         0 5px 15px rgba(255, 107, 107, 0.2),
         inset 0 0 10px rgba(255, 107, 107, 0.1);
     }
   }
 }

.mobile-sub-categories {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  padding: 5px 0;
}

.mobile-sub-category {
  display: inline-block;
  padding: 4px 12px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 13px;
  transition: all 0.3s ease;
  white-space: nowrap;
}

/* 移动端分类展示样式 */
.mobile-categories {
  height: 100%;
  overflow-y: auto;
}

/* 移动端暗色模式样式 */
.home-container:not(.light-theme) .mobile-categories {
  background: rgba(6, 5, 36, 0.8);
}

.home-container:not(.light-theme) .mobile-categories h2 {
  color: #FA9FFC;
  text-shadow: 
    0 0 10px rgba(250, 159, 252, 0.5),
    0 0 20px rgba(250, 159, 252, 0.3);
  margin-bottom: 15px;
  font-size: 1.2em;
}

.home-container:not(.light-theme) .mobile-categories :deep(.el-collapse) {
  border: none;
  background: transparent;
}

.home-container:not(.light-theme) .mobile-categories :deep(.el-collapse-item__header) {
  background: transparent;
  color: #fff;
  border-bottom: 1px solid rgba(250, 159, 252, 0.2);
}

.home-container:not(.light-theme) .mobile-categories :deep(.el-collapse-item__header):hover {
  background: rgba(250, 159, 252, 0.1);
}

.home-container:not(.light-theme) .mobile-categories :deep(.el-collapse-item__content) {
  background: transparent;
  color: #fff;
  padding: 10px;
}

/* 移动端亮色模式样式 */
.home-container.light-theme .mobile-categories {
  background: rgba(255, 255, 255, 0.9);
}

.home-container.light-theme .mobile-categories h2 {
  color: #FF6B6B;
  text-shadow: 
    0 0 10px rgba(255, 107, 107, 0.4),
    0 0 20px rgba(255, 107, 107, 0.2);
}

.home-container.light-theme .mobile-categories :deep(.el-collapse) {
  border: none;
  background: transparent;
}

.home-container.light-theme .mobile-categories :deep(.el-collapse-item__header) {
  background: transparent;
  color: #666;
  border-bottom: 1px solid rgba(255, 107, 107, 0.2);
}

.home-container.light-theme .mobile-categories :deep(.el-collapse-item__header):hover {
  background: rgba(255, 107, 107, 0.1);
  color: #FF6B6B;
}

.home-container.light-theme .mobile-categories :deep(.el-collapse-item__content) {
  background: transparent;
  color: #666;
}

.home-container.light-theme .mobile-categories .mobile-sub-category {
  background: rgba(255, 107, 107, 0.05);
  border: 1px solid rgba(255, 107, 107, 0.2);
  color: #666;
}

.home-container.light-theme .mobile-categories .mobile-sub-category:hover {
  background: rgba(255, 107, 107, 0.15);
  color: #FF6B6B;
  transform: translateY(-2px);
  box-shadow: 
    0 5px 15px rgba(255, 107, 107, 0.2),
    inset 0 0 10px rgba(255, 107, 107, 0.1);
}

.mobile-sub-categories {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  padding: 5px 0;
}

.mobile-sub-category {
  display: inline-block;
  padding: 4px 12px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 13px;
  transition: all 0.3s ease;
  white-space: nowrap;
}

/* 移动端暗色模式样式 */
.home-container:not(.light-theme) .mobile-categories {
  background: rgba(6, 5, 36, 0.8);
}

.home-container:not(.light-theme) .mobile-categories h2 {
  color: #FA9FFC;
  text-shadow: 
    0 0 10px rgba(250, 159, 252, 0.5),
    0 0 20px rgba(250, 159, 252, 0.3);
  margin-bottom: 15px;
  font-size: 1.2em;
}

.home-container:not(.light-theme) .mobile-categories :deep(.el-collapse) {
  border: none;
  background: transparent;
}

.home-container:not(.light-theme) .mobile-categories :deep(.el-collapse-item__header) {
  background: transparent;
  color: #fff;
  border-bottom: 1px solid rgba(250, 159, 252, 0.2);
}

.home-container:not(.light-theme) .mobile-categories :deep(.el-collapse-item__header):hover {
  background: rgba(250, 159, 252, 0.1);
}

.home-container:not(.light-theme) .mobile-categories :deep(.el-collapse-item__content) {
  background: transparent;
  color: #fff;
  padding: 10px;
}

/* 修复折叠面板的背景色 */
.home-container:not(.light-theme) .mobile-categories :deep(.el-collapse-item__wrap) {
  background: transparent;
  border-bottom: none;
}

.home-container:not(.light-theme) .mobile-categories :deep(.el-collapse-item) {
  background: transparent;
  margin-bottom: 4px;
}

/* 移动端暗色模式子分类样式 */
.home-container:not(.light-theme) .mobile-categories .mobile-sub-category {
  background: rgba(250, 159, 252, 0.05);
  border: 1px solid rgba(250, 159, 252, 0.2);
  color: #fff;
}

.home-container:not(.light-theme) .mobile-categories .mobile-sub-category:hover {
  background: rgba(250, 159, 252, 0.15);
  transform: translateY(-2px);
  box-shadow: 
    0 5px 15px rgba(250, 159, 252, 0.2),
    inset 0 0 10px rgba(250, 159, 252, 0.1);
}

/* 亮色模式也需要相应的修复 */
.home-container.light-theme .mobile-categories :deep(.el-collapse-item__wrap) {
  background: transparent;
  border-bottom: none;
}

.home-container.light-theme .mobile-categories :deep(.el-collapse-item) {
  background: transparent;
  margin-bottom: 4px;
}
</style> 